<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>微信泡泡&nbsp;：&nbsp;一个基于微信的Chrome浏览器扩展</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" type="text/css"
          href="http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/client-page1d095f.css"/>
    <!--[if lt IE 9]>
    <link rel="stylesheet" type="text/css"
          href="http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/pc-page1d0858.css"/>
    <![endif]-->
    <link media="screen and (min-width:1000px)" rel="stylesheet" type="text/css"
          href="http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/pc-page1d0858.css"/>
    <style>
        body {
            -webkit-touch-callout: none;
            -webkit-text-size-adjust: none;
        }
    </style>
    <script type="text/javascript">
        document.domain = "qq.com";
        var _wxao = window._wxao || {};
        _wxao.begin = (+new Date());
    </script>
    <style>
        #nickname {
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
            max-width: 90%;
        }

        ol, ul {
            list-style-position: inside;
        }

        #activity-detail .page-content .text {
            font-size: 16px;
        }
    </style>
</head>

<body id="activity-detail">
<img width="12px" style="position: absolute;top:-1000px;"
     src="http://res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/ico_loading1984f1.gif">

<div class="page-bizinfo">
    <div class="header">
        <h1 id="activity-name">微信泡泡&nbsp;：&nbsp;一个基于微信的Chrome浏览器扩展</h1>

        <p class="activity-info">
            <span id="post-date" class="activity-meta no-extra">2014-04-25</span>
            <a href="javascript:viewProfile();" id="post-user" class="activity-meta">
                <span class="text-ellipsis">当菊花还是一朵花的时候</span><i class="icon_link_arrow"></i>
            </a>
        </p>
    </div>
</div>

<div id="page-content" class="page-content">
    <div id="img-content">

        <div class="media" id="media">
            <img onerror="this.parentNode.removeChild(this)"
                 src="thumbnail.jpg"/>
        </div>
        <div class="text"><p><br/></p>

            <ul style="font-size: large;">
                <li>&#8226;&nbsp;不喜欢在手机上打字？</li>
                <li>&#8226;&nbsp;可是网页版微信得一直开着...</li>
                <ul>
                    <li>&#8226;&nbsp;怕上班聊天被老板发现？</li>
                    <li>&#8226;&nbsp;怕无意中关掉页面又得扫一遍二维码？</li>
                </ul>
            </ul>

            <p style="font-size: large"><strong>微信泡泡帮你解决这些问题！</strong></p>
            <br/>
            <br/>

            <p style="font-size: large"><strong>1.简介：</strong></p>
            <p>微信泡泡是基于微信的一款Chrome浏览器扩展。每次开机只需登陆一次，便会一直保持登陆，直到退出。</p>
            <img data-src="screenshot_2_1280x800.png">
            <br/>
            <br/>

            <p style="font-size: large"><strong>2.特性：</strong></p>
            <ul>
                <li>&#8226;&nbsp;只需开机扫瞄一次二维码即可保持登陆网页版微信。</li>
                <li>&#8226;&nbsp;无论是重启微信泡泡，还是重启浏览器，依然保持登陆状态，快速与好友畅所欲言。</li>
                <li>&#8226;&nbsp;要退出？直接在手机微信选择退出网页版微信即可。</li>
            </ul>
            <br/>
            <br/>

            <p style="font-size: large"><strong>3.安装：</strong></p>
            <br/>
            <p>1. 在Chrome Store搜索“微信泡泡”或“WeChat Bubble”，找到此扩展，点击“Free”（或“免费”）。</p>
            <img src="install_store1.png"/>
            <br/>
            <p>2. 点击“Add”（或“添加”）。</p>
            <img src="install_store2.png"/>
            <br/>
            <br/>
            <br/>



            <p style="font-size: large"><strong>4.使用：</strong></p>
            <br/>

            <p><strong>1. 登陆</strong></p>
            <p>首次开机启用需要登陆，方式与网页版微信完全一样。</p>
            <img src="screenshot_1_1280x800.png"/>
            <br/>
            <br/>

            <p><strong>2. 使用</strong></p>
            <p>只需点击微信泡泡，即可与好友迅速畅谈！</p>
            <img src="screenshot_2_1280x800.png"/>
            <br/>
            <br/>

            <p><strong>3. 退出</strong></p>
            <p>和网页版微信相同，在手机微信上选择退出网页版微信即可。</p>
            <img src="screenshot_3_1280x800.png"/>
            <br/>
            <br/>
            <br/>
            <br/>

            <p><strong>已知问题：如果用户长时间没有进行任何操作，网页版微信会自动退出。因此微信泡泡也会被退出。</strong></p>


            <p style="font-size: large; font-weight: bold">Now let's Web WeChat!</p>


            <p><br/></p></div>
        <p class="page-toolbar">
            <!--<a href="javascript:report_article();" class="page-imform"></a>-->
        <p style="font-size: xx-small">声明：微信（WeChat）为腾讯公司产品，版权归腾讯公司所有。微信泡泡为第三方插件，旨在为大众提供更加便捷的微信体验，非腾讯公司官方出品。请访问微信官方网址获得更多信息：http://www.wechat.com/。</p>
        </p>
    </div>
</div>
<script type="text/javascript">
var ISWP = !!(navigator.userAgent.match(/Windows\sPhone/i));
var sw = 0;

if (ISWP) {
    var profile = document.getElementById('post-user');
    if (profile) {
        profile.setAttribute("href", "weixin://profile/gh_4002b1765479");
    }
}
var tid = "";
var aid = "";
var uin = "";
var key = "";
var biz = "MzA5NzIwMjQzMA==";
var networkType;

var cookie = {
    get: function (name) {
        if (name == '') {
            return '';
        }
        var reg = new RegExp(name + '=([^;]*)');
        var res = document.cookie.match(reg);
        return (res && res[1]) || '';
    },
    set: function (name, value) {
        var now = new Date();
        now.setDate(now.getDate() + 1);
        var exp = now.toGMTString();
        document.cookie = name + '=' + value + ';expires=' + exp;
        return true;
    }
};

function hash(str) {
    var hash = 5381;
    for (var i = 0; i < str.length; i++) {
        hash = ((hash << 5) + hash) + str.charCodeAt(i);
        hash &= 0x7fffffff;
    }
    return hash;
}

function trim(str) {
    return str.replace(/^\s*|\s*$/g, '');
}

function ajax(obj) {
    var type = (obj.type || 'GET').toUpperCase();
    var url = obj.url;
    var async = typeof obj.async == 'undefined' ? true : obj.async;
    var data = typeof obj.data == 'string' ? obj.data : null;
    var xhr = new XMLHttpRequest();
    var timer = null;
    xhr.open(type, url, async);
    xhr.onreadystatechange = function () {
        if (xhr.readyState == 3) {
            obj.received && obj.received(xhr);
        }
        if (xhr.readyState == 4) {
            if (xhr.status >= 200 && xhr.status < 400) {
                clearTimeout(timer);
                obj.success && obj.success(xhr.responseText);
            }
            obj.complete && obj.complete();
            obj.complete = null;
        }
    };
    if (type == 'POST') {
        xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
    }
    xhr.setRequestHeader("X-Requested-With", "XMLHttpRequest");
    xhr.send(data);
    if (typeof obj.timeout != 'undefined') {
        timer = setTimeout(function () {
            xhr.abort("timeout");
            obj.complete && obj.complete();
            obj.complete = null;
        }, obj.timeout);
    }
}

var title = trim('微信泡泡&nbsp;：&nbsp;一个基于微信的Chrome浏览器扩展'.replace(/&lt;/g, '<').replace(/&gt;/g, '>'));
var sourceurl = trim(''.replace(/&lt;/g, '<').replace(/&gt;/g, '>'));

// 举报
function report_article() {
    var url = sourceurl == '' ? location.href : sourceurl;
    var query = [
        '北美留学生日报',
        location.href,
        title,
        url
    ].join("|WXM|");

    location.href = '/mp/readtemplate?t=wxm-appmsg-inform&__biz=MzA5NzIwMjQzMA==&info=' + encodeURIComponent(query) + "#wechat_redirect";
}


// 阅读原文
function viewSource() {
    var redirectUrl = sourceurl.indexOf('://') < 0 ? 'http://' + sourceurl : sourceurl;
    redirectUrl = 'http://' + location.host + '/mp/redirect?url=' + encodeURIComponent(sourceurl);
    // TODO 统计不需要服务器响应数据
    var opt = {
        url: '/mp/advertisement_report' + location.search + '&report_type=3&action_type=0&url=' + encodeURIComponent(sourceurl) + "&uin=" + uin + "&key=" + key + "&__biz=" + biz + '&r=' + Math.random(),
        type: "GET",
        async: false
    };
    if (!!tid) {
        opt.success = function (res) {
            try {
                res = eval('(' + res + ')');
            } catch (e) {
                res = {}
            }
            if (res && res.ret == 0) {
                location.href = redirectUrl;
            } else {
                viewSource();//REDO
            }
        }
    } else {
        opt.timeout = 2000;
        opt.complete = function () {
            location.href = redirectUrl;
        }
    }
    ajax(opt);
    return false;
}
;


function parseParams(str) {
    if (!str) return {};

    var arr = str.split('&'), obj = {}, item = '';
    for (var i = 0, l = arr.length; i < l; i++) {
        item = arr[i].split('=');
        obj[item[0]] = item[1];
    }
    return obj;
}

function htmlDecode(str) {
    return str
            .replace(/&#39;/g, '\'')
            .replace(/<br\s*(\/)?\s*>/g, '\n')
            .replace(/&nbsp;/g, ' ')
            .replace(/&lt;/g, '<')
            .replace(/&gt;/g, '>')
            .replace(/&quot;/g, '"')
            .replace(/&amp;/g, '&');
}

function report(link, fakeid, action_type) {
    var queryStr = link.split('?').pop();
    queryStr = queryStr.split('#').shift();
    if (queryStr == '') {
        return;
    }

    var param = [
        queryStr,
        'action_type=' + action_type,
        'uin=' + fakeid
    ].join('&');

    ajax({
        url: '/mp/appmsg/show',
        type: 'POST',
        timeout: 2000,
        data: param
    });
}

function reportTimeOnPage() {
    var link = location.href;
    var fakeid = "OTYxNjQ3NDIw";
    var queryStr = link.split('?').pop();
    queryStr = queryStr.split('#').shift();
    if (queryStr == '') {
        return;
    }

    var param = [
        queryStr,
        'start_time=' + _wxao.begin,
        'end_time=' + new Date().getTime(),
        'uin=' + fakeid,
        'title=' + encodeURIComponent(title),
        'action=pagetime'
    ].join('&');

    ajax({
        url: '/mp/appmsg/show?' + param,
        //url: '/mp/comm_report?'+param,
        async: false,
        timeout: 2000
    });
    //var img = new Image(1,1);
    //img.src = '/mp/appmsg/show?'+param;
}

function share_scene(link, scene_type) {
    var extargs = "";
    if (tid != "") {//gdt traceid
        extargs = "tid=" + tid + "&aid=" + 54;//share must be 54
    }
    var queryStr = link.split('?')[1] || '';
    queryStr = queryStr.split('#')[0];
    if (queryStr == '') {
        return;
    }

    var queryarr = [queryStr, 'scene=' + scene_type];
    (extargs != "") && (queryarr.push(extargs));
    queryStr = queryarr.join('&');

    return link.split('?')[0] + '?' + queryStr + '#' + (link.split('#')[1] || '');
}
function get_url(link, extargs) {
    extargs = extargs || "";
    var queryStr = link.split('?')[1] || '';
    queryStr = queryStr.split('#')[0];
    if (queryStr == '') {
        return;
    }

    var queryarr = [queryStr];
    (extargs != "") && (queryarr.push(extargs));
    queryStr = queryarr.join('&');

    return link.split('?')[0] + '?' + queryStr + '#' + (link.split('#')[1] || '');
}

function viewProfile() {
    if (typeof WeixinJSBridge != "undefined" && WeixinJSBridge.invoke) {
        WeixinJSBridge.invoke('profile', {
            'username': 'gh_4002b1765479',
            'scene': '57'
        });
    }
}



</script>
</body>
</html>
